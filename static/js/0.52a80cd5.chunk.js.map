{"version":3,"sources":["components/Profile.jsx"],"names":["Profile","useState","showModal","setShowModal","useContext","StoreContext","state","setState","id","useParams","name","setName","role","setRole","numEmp","setNumEmp","location","setLocation","history","useHistory","style","setStyle","useEffect","connected","a","pathname","includes","contract","methods","companies","call","user","res","curr_emp_of_company","length","prev_emp_of_company","employees","console","log","className","type","onClick","class","value","onChange","e","target"],"mappings":"4KAgJeA,UA3If,WACE,MAAkCC,oBAAS,GAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAA4BC,qBAAWC,KAA/BC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,SACPC,EAAOC,cAAPD,GACR,EAAwBP,mBAAS,WAAjC,mBAAOS,EAAP,KAAaC,EAAb,KACA,EAAwBV,mBAAS,sBAAjC,mBAAOW,EAAP,KAAaC,EAAb,KACA,EAA4BZ,mBAAS,GAArC,mBAAOa,EAAP,KAAeC,EAAf,KACA,EAAgCd,mBAAS,SAAzC,mBAAOe,EAAP,KAAiBC,EAAjB,KACMC,EAAUC,cAEhB,EAA0BlB,mBAAS,IAAnC,mBAAOmB,EAAP,KAAcC,EAAd,KAyBA,OAvBAC,qBAAU,WACHhB,EAAMiB,WACTF,EAAS,iBAEX,sBAAC,8BAAAG,EAAA,mEAGON,EAAQF,SAASS,SAASC,SAAS,WAH1C,iCAIkBpB,EAAMqB,SAASC,QAAQC,UAAUrB,GAAIsB,OAJvD,cAIKC,EAJL,OAKSC,EAAM,EALf,KAMKA,EANL,SAMmB1B,EAAMqB,SAASC,QAAQK,oBAAoBzB,GAAIsB,OANlE,cAMKE,EANL,aAOQE,OAPR,KAQKF,EARL,UAQmB1B,EAAMqB,SAASC,QAAQO,oBAAoB3B,GAAIsB,OARlE,QAQKE,EARL,aASQE,OACHnB,EAAUiB,GAVf,yCAWuB1B,EAAMqB,SAASC,QAAQQ,UAAU5B,GAAIsB,OAX5D,QAWUC,EAXV,eAYGpB,EAAQoB,EAAKrB,MAZhB,kDAcG2B,QAAQC,IAAR,MAdH,yDAAD,KAiBC,CAAC9B,EAAIF,EAAMqB,SAAUT,EAAQF,SAAUT,IAGxC,sBAAKgC,UAAU,mFAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,sBAAd,SAAqC7B,IACrC,qBAAK6B,UAAU,WAAf,SACGrB,EAAQF,SAASS,SAASC,SAAS,SAAWd,IAEjD,8BACE,6BAAKI,MAENE,EAAQF,SAASS,SAASC,SAAS,YAClC,sBAAKa,UAAU,eAAf,UAA+BzB,EAA/B,mBAGJ,sBAAKyB,UAAU,yCAAf,UACE,qBAAKA,UAAU,+DAAf,SACE,qBAAKA,UAAU,2BAAf,SACE,mBAAGA,UAAU,oBAGjB,qBAAKA,UAAWnB,EAAhB,SACE,wBACEmB,UACE,wMAEFC,KAAK,SACLC,QAAS,kBAAMtC,GAAa,IAL9B,SAME,mBAAGuC,MAAM,uBAKdxC,EACC,gCACG,IACD,qBAAKqC,UAAU,wHAAf,SACE,qBAAKA,UAAU,yCAAf,SAEE,sBAAKA,UAAU,uGAAf,UAEE,sBAAKA,UAAU,2FAAf,UACE,oBAAIA,UAAU,gDAAd,qBAGA,wBACEA,UAAU,2IACVE,QAAS,kBAAMtC,GAAa,IAF9B,SAGE,sBAAMoC,UAAU,6FAAhB,uBAMJ,qBAAKA,UAAU,iEAAf,SACE,uBAAMA,UAAU,UAAhB,UACE,uBAAOA,UAAU,OAAjB,mBACA,uBACEA,UAAU,iCACVC,KAAK,OACLG,MAAO/B,EACPgC,SAAU,SAACC,GACThC,EAAQgC,EAAEC,OAAOH,UAErB,uBACA,uBAAOJ,UAAU,OAAjB,uBAEA,uBACEA,UAAU,iCACVC,KAAK,OACLG,MAAO3B,EACP4B,SAAU,SAACC,GACT5B,EAAY4B,EAAEC,OAAOH,eAK7B,sBAAKJ,UAAU,wFAAf,UACE,wBACEA,UAAU,6LACVC,KAAK,SACLC,QAAS,kBAAMtC,GAAa,IAH9B,mBAMA,wBACEoC,UAAU,yMACVC,KAAK,SACLC,QAAS,WACPtC,GAAa,IAJjB,4BAYR,qBAAKoC,UAAU,8CAGjB","file":"static/js/0.52a80cd5.chunk.js","sourcesContent":["import { useState, useContext, useEffect } from 'react';\nimport { StoreContext } from '../utils/store';\nimport { useParams } from 'react-router';\nimport { useHistory } from 'react-router-dom';\n\nfunction Profile() {\n  const [showModal, setShowModal] = useState(false);\n  const { state, setState } = useContext(StoreContext);\n  const { id } = useParams();\n  const [name, setName] = useState('loading');\n  const [role, setRole] = useState('Software Developer');\n  const [numEmp, setNumEmp] = useState(0);\n  const [location, setLocation] = useState('India');\n  const history = useHistory();\n\n  const [style, setStyle] = useState('');\n\n  useEffect(() => {\n    if (!state.connected) {\n      setStyle('authenticated');\n    }\n    (async () => {\n      try {\n        let user;\n        if (history.location.pathname.includes('company')) {\n          user = await state.contract.methods.companies(id).call();\n          let res = 0;\n          res += (await state.contract.methods.curr_emp_of_company(id).call())\n            .length;\n          res += (await state.contract.methods.prev_emp_of_company(id).call())\n            .length;\n          setNumEmp(res);\n        } else user = await state.contract.methods.employees(id).call();\n        setName(user.name);\n      } catch (e) {\n        console.log(e);\n      }\n    })();\n  }, [id, state.contract, history.location, setState]);\n\n  return (\n    <div className='flex flex-row h-full w-full p-3 items-center justify-items-stretch text-gray-600'>\n      <div className='w-4/6 h-full'>\n        <h1 className='text-2xl text-black'>{name}</h1>\n        <div className='text-3xl'>\n          {history.location.pathname.includes('user') && role}\n        </div>\n        <div>\n          <h1>{location}</h1>\n        </div>\n        {history.location.pathname.includes('company') && (\n          <div className='pt-5 text-lg'>{numEmp} Employees</div>\n        )}\n      </div>\n      <div className='w-2/6 h-full flex flex-row justify-end'>\n        <div className='border-black w-36 h-36 border-solid rounded-full bg-gray-500'>\n          <div className='text-7xl text-center p-6'>\n            <i className='fas fa-user'></i>\n          </div>\n        </div>\n        <div className={style}>\n          <button\n            className={\n              'bg-red-800 inline text-white active:bg-red-800 font-bold uppercase text-sm px-4 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150'\n            }\n            type='button'\n            onClick={() => setShowModal(true)}>\n            <i class='fas fa-edit'></i>\n          </button>\n        </div>\n      </div>\n\n      {showModal ? (\n        <div>\n          {' '}\n          <div className='justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none'>\n            <div className='relative w-auto my-6 mx-auto max-w-3xl'>\n              {/*content*/}\n              <div className='border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none'>\n                {/*header*/}\n                <div className='flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t'>\n                  <h4 className='text-3xl font-semibold text-black text-center'>\n                    Profile\n                  </h4>\n                  <button\n                    className='p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none'\n                    onClick={() => setShowModal(false)}>\n                    <span className='bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none'>\n                      Ã—\n                    </span>\n                  </button>\n                </div>\n                {/*body*/}\n                <div className='relative p-6 flex-auto my-4 text-black text-lg leading-relaxed'>\n                  <form className='mx-auto'>\n                    <label className='px-1'>Role:</label>\n                    <input\n                      className='border-solid border-black px-2'\n                      type='text'\n                      value={role}\n                      onChange={(e) => {\n                        setRole(e.target.value);\n                      }}></input>\n                    <br />\n                    <label className='px-1'>Location:</label>\n\n                    <input\n                      className='border-solid border-black px-2'\n                      type='text'\n                      value={location}\n                      onChange={(e) => {\n                        setLocation(e.target.value);\n                      }}></input>\n                  </form>\n                </div>\n                {/*footer*/}\n                <div className='flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b'>\n                  <button\n                    className='text-red-500 background-transparent font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150'\n                    type='button'\n                    onClick={() => setShowModal(false)}>\n                    Close\n                  </button>\n                  <button\n                    className='bg-emerald-500 text-black active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150'\n                    type='button'\n                    onClick={() => {\n                      setShowModal(false);\n                    }}>\n                    Done\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className='opacity-25 fixed inset-0 z-40 bg-black'></div>\n        </div>\n      ) : (\n        <div></div>\n      )}\n    </div>\n  );\n}\n\nexport default Profile;\n"],"sourceRoot":""}