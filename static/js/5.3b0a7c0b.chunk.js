(this.webpackJsonpminor=this.webpackJsonpminor||[]).push([[5],{754:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(150);var a=n(203);function c(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},840:function(e,t,n){"use strict";n.r(t);var r=n(201),a=n(0),c=n(117),s=n(42),o=n(754),i=n(17),u=n.n(i),l=n(54),d=n(19),b=n(3);var j=function(){var e=Object(d.g)().id,t=Object(a.useContext)(c.a),n=t.state,i=t.setState,j=Object(a.useState)([]),m=Object(r.a)(j,2),f=m[0],x=m[1],p=Object(a.useCallback)(Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.contract.methods.requested_emp_of_company(e).call();case 2:t.sent.forEach(function(){var e=Object(l.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.some(function(){var e=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.id===parseInt(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())){e.next=6;break}return e.next=3,n.contract.methods.experiences(t).call();case 3:r=e.sent,console.log(JSON.stringify(r)),x([].concat(Object(o.a)(f),[{id:parseInt(t),name:r.user_name,role:r.role}]));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)}))),[e,f,n.contract]),h=Object(a.useCallback)(function(){var t=Object(l.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!0})})),t.prev=1,t.next=4,n.contract.methods.approve_experience(r,e).send({from:n.account});case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),alert("error approving"),console.error(t.t0);case 10:i((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!1})}));case 11:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),[n.contract,n.account,e,i]);return Object(a.useEffect)((function(){p()}),[p]),Object(b.jsx)("div",{children:Object(b.jsx)("div",{children:f.length>0?f.map((function(e){return Object(b.jsxs)("div",{className:"p-2 m-2 flex flex-row justify-around items-center bg-gray-200 border-solid rounded-lg ",id:e.id,children:[Object(b.jsx)("div",{children:Object(b.jsxs)("p",{children:[Object(b.jsx)("h1",{className:"font-medium text-lg text-blue-700 inline",children:e.name})," ","has requested to join the team as ",e.role," in your Oragnization."]})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{className:"bg-gray-800 text-white active:bg-gray-800 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){h(e.id)},children:"Accept"}),Object(b.jsx)("button",{className:"bg-red-800 text-white active:bg-red-800 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",children:"Deny"})]})]})})):Object(b.jsx)("div",{children:"no requests"})})})};var m=function(){var e=Object(a.useContext)(c.a).state,t=Object(d.g)().id,n=Object(a.useState)([{id:123,name:"Hardik Agarwal ",role:"SDE-1"},{id:213,name:"Suryashankar Das",role:"SDE-1"}]),s=Object(r.a)(n,2),i=s[0],j=s[1],m=Object(a.useState)(""),f=Object(r.a)(m,2),x=f[0],p=f[1],h=Object(a.useCallback)(Object(l.a)(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.contract.methods.curr_emp_of_company(t).call();case 2:(r=n.sent).forEach(function(){var t=Object(l.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.some(function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.id===parseInt(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())){t.next=5;break}return t.next=3,e.contract.methods.experiences(n).call();case 3:a=t.sent,j([].concat(Object(o.a)(i),[{id:parseInt(n),name:"Employee name",role:a.role}]));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 4:case"end":return n.stop()}}),n)}))),[t,i,e.contract]);return Object(a.useEffect)((function(){e.connected||p("authenticated"),h()}),[h]),Object(b.jsx)("div",{children:Object(b.jsx)("div",{children:i.map((function(e,t){return Object(b.jsxs)("div",{className:"p-2 m-2 flex flex-row justify-around items-center bg-gray-200 border-solid rounded-lg ",children:[Object(b.jsx)("div",{children:Object(b.jsxs)("p",{children:[Object(b.jsx)("h1",{className:"font-medium text-lg text-blue-700 inline",children:e.name})," ","is part of of your Oraganization as ",e.role," from Date to Date."]})}),Object(b.jsx)("div",{className:x,children:Object(b.jsx)("button",{className:"bg-red-800 text-white active:bg-red-800 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",children:"Remove"})})]})}))})})},f=(n(335),Object(a.lazy)((function(){return n.e(0).then(n.bind(null,837))})));t.default=function(){var e=[{id:1,name:"Requests"},{id:2,name:"Team"}],t=Object(a.useContext)(c.a),n=t.state,s=t.setState,o=Object(a.useState)(""),i=Object(r.a)(o,2),u=i[0],l=i[1],d=Object(a.useState)(2),x=Object(r.a)(d,2),p=x[0],h=x[1];return Object(a.useEffect)((function(){n.connected||l("authenticated")}),[n.contract,s]),Object(b.jsxs)("div",{className:"h-screen",children:[Object(b.jsx)("header",{className:"bg-white shadow",children:Object(b.jsx)("div",{className:"max-w-9xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:Object(b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:e.find((function(e){return e.id===p})).name})})}),Object(b.jsxs)("div",{className:"flex mx-auto py-6 sm:px-6 lg:px-8 h-4/5",children:[Object(b.jsx)("sidebar",{className:" w-1/4 bg-gray-800 mx-auto sm:px-6 lg:px-8  float-left text-gray-300",children:n.connected?Object(b.jsx)(b.Fragment,{children:e.map((function(e,t){return Object(b.jsx)("div",{className:"m-2 p-2 text-xl hover:bg-gray-300 hover:text-gray-800 w-full",onClick:function(t){h(e.id)},children:e.name},t)}))}):Object(b.jsx)("div",{className:"m-2 p-2 text-xl hover:bg-gray-300 hover:text-gray-800 w-full",children:"Team"})}),Object(b.jsxs)("main",{className:"w-3/4 lg:px-8 sm:px-6 mx-auto inline-block float-right h-full ",children:[Object(b.jsx)("div",{className:"border-4 border-solid border-gray-200 rounded-lg h-2/6 mx-5 mt-0 mb-1",children:Object(b.jsx)(f,{})}),Object(b.jsx)("div",{className:"border-4 border-solid border-gray-200 rounded-lg h-4/6 mx-5 mt-2",children:function(){switch(p){case 1:return Object(b.jsx)("div",{className:u,children:Object(b.jsx)(j,{})});case 2:return Object(b.jsx)(m,{});default:return Object(b.jsx)("h1",{children:"No option selcted"})}}()})]})]})]})}}}]);
//# sourceMappingURL=5.3b0a7c0b.chunk.js.map