(this.webpackJsonpminor=this.webpackJsonpminor||[]).push([[8],{839:function(e,t,n){"use strict";n.r(t);var a=n(201),c=n(0),r=n(754),s=n(17),l=n.n(s),o=n(54),i=n(19),d=n(59),u=n(831),b=n(42),j=n(750),x=n(838),h=n(3),m=function(e){var t=e.skid,n=Object(c.useContext)(d.a),s=n.state,u=n.setState,m=Object(i.g)().id,f=Object(c.useState)([]),p=Object(a.a)(f,2),O=p[0],v=p[1],g=Object(c.useState)(!1),k=Object(a.a)(g,2),y=k[0],w=k[1],N=Object(c.useState)(""),C=Object(a.a)(N,2),S=C[0],E=C[1],_=Object(c.useCallback)(Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.contract.methods.endrs_of_skill(t).call();case 2:e.sent.forEach(function(){var e=Object(o.a)(l.a.mark((function e(n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O.some((function(e){return e.id===parseInt(n)}))){e.next=18;break}return e.next=3,s.contract.methods.endorsments(n).call();case 3:return a=e.sent,e.t0=v,e.t1=[],e.t2=Object(r.a)(O),e.t3=parseInt(n),e.next=10,s.contract.methods.employees(a.endorser_id).call();case 10:e.t4=e.sent.name,e.t5=a.date,e.t6=t,e.t7=a.comment,e.t8={id:e.t3,endorser:e.t4,date:e.t5,skid:e.t6,content:e.t7},e.t9=[e.t8],e.t10=e.t1.concat.call(e.t1,e.t2,e.t9),(0,e.t0)(e.t10);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)}))),[O,t,s.contract]);Object(c.useEffect)((function(){v((function(e){return e.filter((function(e){return e.skid===t}))}))}),[t]);var A=Object(c.useCallback)(Object(o.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Date,e.prev=1,u((function(e){return Object(b.a)(Object(b.a)({},e),{},{loading:!0})})),e.next=5,s.contract.methods.endorse_skill(m,t,"".concat(n.getMonth()," ").concat(n.getFullYear()),S).send({from:s.account});case 5:_(),E(""),w(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:u((function(e){return Object(b.a)(Object(b.a)({},e),{},{loading:!0})}));case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),[s.contract,m,_,t,u,S,s.account]);return Object(c.useEffect)((function(){_()}),[_]),Object(h.jsxs)("div",{children:[O.length?O.map((function(e){return Object(h.jsxs)("div",{className:"p-6 m-2 flex flex-row justify-between items-center bg-gray-200 border-solid rounded-lg ",children:[Object(h.jsx)("div",{children:Object(h.jsx)("p",{children:Object(h.jsxs)("h1",{className:"font-medium text-lg text-blue-700 inline",children:[Object(h.jsx)("h1",{children:e.endorser}),Object(h.jsx)("h1",{children:e.date})]})})}),Object(h.jsx)("div",{children:Object(h.jsx)("h1",{children:e.content})})]})})):Object(h.jsx)("div",{children:"no comments yet"}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{className:"bg-red-800 text-white active:bg-red-800 font-bold uppercase text-sm mx-6 px-8 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){w(!0)},children:"Add Comment"})}),Object(h.jsx)(j.a,{appear:!0,show:y,as:c.Fragment,children:Object(h.jsx)(x.a,{as:"div",className:"fixed inset-0 z-10 overflow-y-auto",onClose:function(){w(!1)},children:Object(h.jsxs)("div",{className:"min-h-screen px-4 text-center",children:[Object(h.jsx)(j.a.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(h.jsx)(x.a.Overlay,{className:"fixed inset-0"})}),Object(h.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"\u200b"}),Object(h.jsx)(j.a.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:Object(h.jsxs)("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[Object(h.jsx)(x.a.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Add Comment"}),Object(h.jsx)("div",{className:"mt-2",children:Object(h.jsx)("textarea",{className:"w-full p-2",value:S,onChange:function(e){return E(e.target.value)}})}),Object(h.jsx)("div",{className:"mt-4",children:Object(h.jsx)("button",{type:"button",className:"bg-red-800 text-white active:bg-red-800 font-bold uppercase text-sm mx-6 px-8 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",onClick:function(){A()},children:"add"})})]})})]})})})]})};var f=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],s=t[1],b=Object(c.useState)(!1),j=Object(a.a)(b,2),x=j[0],f=j[1],p=Object(c.useState)(),O=Object(a.a)(p,2),v=O[0],g=O[1],k=Object(c.useState)(!1),y=Object(a.a)(k,2),w=y[0],N=y[1],C=Object(i.g)().id,S=Object(c.useContext)(d.a).state,E=Object(c.useState)(-1),_=Object(a.a)(E,2),A=_[0],I=_[1],D=Object(c.useState)([]),z=Object(a.a)(D,2),Y=z[0],G=z[1],F=Object(c.useState)(""),J=Object(a.a)(F,2),T=J[0],L=J[1],P=Object(c.useCallback)(Object(o.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.contract.methods.skills_of_user(C).call();case 2:if(t=e.sent,n=[],t.forEach(function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y.some((function(e){return e.id===parseInt(t)}))||n.push(S.contract.methods.skills(t).call());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),!(n.length>0)){e.next=10;break}return e.next=8,Promise.all(n);case 8:a=e.sent.map((function(e){return{id:parseInt(e.id),name:e.name,verified:e.verified}})),G((function(e){return[].concat(Object(r.a)(e),Object(r.a)(a))}));case 10:case"end":return e.stop()}}),e)}))),[C,Y,S.contract]),q=Object(c.useCallback)(Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Y.some((function(e){return e.name===v.name}))){e.next=4;break}alert("Already a skill, Please add some different skill name"),e.next=15;break;case 4:return g(""),s(!1),e.prev=6,e.next=9,S.contract.methods.add_skill(S.accountId,v).send({from:S.account});case 9:P(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[6,12]])}))),[S,Y,v,P]);Object(c.useEffect)((function(){S.connected||L("authenticated"),P()}),[P]);var M=Object(c.useCallback)((function(){return-1===A?Object(h.jsx)("h1",{children:"No option selcted"}):Object(h.jsx)(m,{skid:A})}),[A]);function V(e){console.log("Captcha value: "+e),N(!0)}function W(){w?(f(!1),N(!1)):alert("Please check the captcha")}return Object(h.jsxs)("div",{className:"flex mx-auto p-0  h-full",children:[Object(h.jsxs)("sidebar",{className:" w-1/4 bg-gray-800 mx-0 sm:px-6 lg:px-8  float-left text-gray-300",children:[Y.map((function(e,t){return Object(h.jsxs)("div",{className:"m-2 p-2 flex flex-row text-l justify-around hover:bg-gray-300 hover:text-gray-800 w-full",onClick:function(t){I(e.id)},children:[e.name,e.id===A?Object(h.jsx)("button",{className:" text-l hover:bg-gray-400",onClick:function(){f(!0)},children:"\xd7"}):Object(h.jsx)("div",{}),x?Object(h.jsxs)("div",{children:[" ",Object(h.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:Object(h.jsx)("div",{className:"relative w-auto my-6 mx-auto max-w-3xl",children:Object(h.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[Object(h.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t",children:[Object(h.jsxs)("h5",{className:"text-3xl font-semibold text-black",children:["Are u sure, you wanna delete"," ",Y[A-1].name,"?"]}),Object(h.jsx)("button",{className:"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:function(){return s(!1)},children:Object(h.jsx)("span",{className:"bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none",children:"\xd7"})})]}),Object(h.jsx)("div",{className:"relative p-6 flex-auto",children:Object(h.jsxs)("p",{className:"my-4 text-black text-lg leading-relaxed",children:[Object(h.jsx)("h1",{children:"Capcha"}),Object(h.jsx)(u.a,{sitekey:"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI",onChange:V})]})}),Object(h.jsxs)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:[Object(h.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){return f(!1)},children:"Close"}),Object(h.jsx)("button",{className:"bg-emerald-500 text-black active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:W,children:"Yes"})]})]})})}),Object(h.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}):Object(h.jsx)("div",{})]},t)})),Object(h.jsx)("div",{className:T,children:Object(h.jsx)("button",{className:"bg-red-800 text-white active:bg-red-800 font-bold uppercase text-sm mx-6 px-8 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){return s(!0)},children:"Add Skill"})}),n?Object(h.jsxs)("div",{children:[" ",Object(h.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:Object(h.jsx)("div",{className:"relative w-auto my-6 mx-auto max-w-3xl",children:Object(h.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[Object(h.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t",children:[Object(h.jsx)("h3",{className:"text-3xl font-semibold text-black",children:"Add New Skill"}),Object(h.jsx)("button",{className:"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:function(){return s(!1)},children:Object(h.jsx)("span",{className:"bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none",children:"\xd7"})})]}),Object(h.jsx)("div",{className:"relative p-6 flex-auto",children:Object(h.jsxs)("p",{className:"my-4 text-black text-lg leading-relaxed",children:[Object(h.jsx)("h1",{children:"Name Skill"}),Object(h.jsx)("label",{children:"Enter Skill:"}),Object(h.jsx)("input",{placeholder:"Eg:JavaScript",className:"border-solid border-black px-2",value:v,onChange:function(e){g(e.target.value)}})]})}),Object(h.jsxs)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:[Object(h.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){return s(!1)},children:"Close"}),Object(h.jsx)("button",{className:"bg-emerald-500 text-black active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:q,children:"Add"})]})]})})}),Object(h.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}):Object(h.jsx)("div",{})]}),Object(h.jsx)("main",{className:"w-3/4 px-0 sm:py-6 sm:px-0 inline-block float-right mt-0",children:M()})]})},p=n(117);var O=function(){var e=Object(c.useContext)(p.a),t=e.state,n=e.setState,s=Object(c.useState)(-1),d=Object(a.a)(s,2),u=d[0],j=d[1],x=Object(c.useState)(!1),m=Object(a.a)(x,2),f=m[0],O=m[1],v=Object(c.useState)(""),g=Object(a.a)(v,2),k=g[0],y=g[1],w=Object(c.useState)(""),N=Object(a.a)(w,2),C=N[0],S=N[1],E=Object(c.useState)(""),_=Object(a.a)(E,2),A=_[0],I=_[1],D=Object(c.useState)(""),z=Object(a.a)(D,2),Y=z[0],G=z[1],F=Object(i.g)().id,J=Object(c.useState)(""),T=Object(a.a)(J,2),L=T[0],P=T[1],q=Object(c.useState)([]),M=Object(a.a)(q,2),V=M[0],W=M[1],R=Object(c.useCallback)(Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.contract.methods.exp_of_user(F).call();case 2:e.sent.forEach(function(){var e=Object(o.a)(l.a.mark((function e(n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V.some(function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.id===parseInt(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())){e.next=20;break}return e.next=3,t.contract.methods.experiences(n).call();case 3:return a=e.sent,e.t0=W,e.t1=[],e.t2=Object(r.a)(V),e.t3=parseInt(n),e.next=10,t.contract.methods.companies(n).call();case 10:e.t4=e.sent.name,e.t5=a.current,e.t6=a.starting_date,e.t7=a.ending_date,e.t8=a.role,e.t9=a.is_approved,e.t10={id:e.t3,name:e.t4,current:e.t5,startDate:e.t6,endDate:e.t7,role:e.t8,approved:e.t9},e.t11=[e.t10],e.t12=e.t1.concat.call(e.t1,e.t2,e.t11),(0,e.t0)(e.t12);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)}))),[F,V,t.contract]),U=Object(c.useCallback)(Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n((function(e){return Object(b.a)(Object(b.a)({},e),{},{loading:!0})})),!V.some((function(e){return e.company_id===Y}))){e.next=5;break}alert("already exists"),e.next=19;break;case 5:return e.prev=5,e.next=8,t.contract.methods.add_experience(t.accountId,k,C,A,Y).send({from:t.account});case 8:y(""),S(""),I(""),G(""),O(!1),R(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),console.error(e.t0);case 19:n((function(e){return Object(b.a)(Object(b.a)({},e),{},{loading:!0})}));case 20:case"end":return e.stop()}}),e,null,[[5,16]])}))),[t.contract,t.account,t.accountId,V,R,Y,A,C,k,n]);Object(c.useEffect)((function(){t.connected||P("authenticated"),R()}),[R]);var Z=function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:V[e].name}),Object(h.jsxs)("h2",{children:["Start Date: ",V[e].startDate,", End Date: ",V[e].endDate]}),Object(h.jsx)("h2",{children:V[e].role})]})};return Object(h.jsxs)("div",{className:"flex mx-auto p-0  h-full",children:[Object(h.jsxs)("sidebar",{className:" w-1/4 bg-gray-800 mx-0 sm:px-6 lg:px-8  float-left text-gray-300",children:[V.map((function(e,t){return Object(h.jsx)("div",{className:"m-2 p-2 text-l hover:bg-gray-300 hover:text-gray-800 w-full",onClick:function(t){j(e.id)},children:e.name},t)})),Object(h.jsx)("div",{className:L,children:Object(h.jsx)("button",{className:"bg-red-800 text-white active:bg-red-800 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){return O(!0)},children:"Add Experiance"})}),f?Object(h.jsxs)("div",{children:[" ",Object(h.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:Object(h.jsx)("div",{className:"relative w-auto my-6 mx-auto max-w-3xl",children:Object(h.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[Object(h.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t",children:[Object(h.jsx)("h3",{className:"text-3xl font-semibold text-black",children:"Add New Work Experiance"}),Object(h.jsx)("button",{className:"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:function(){return O(!1)},children:Object(h.jsx)("span",{className:"bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none",children:"\xd7"})})]}),Object(h.jsx)("div",{className:"relative p-6 flex-auto my-4 text-black text-lg leading-relaxed",children:Object(h.jsxs)("form",{children:[Object(h.jsx)("label",{children:"Company id:"}),Object(h.jsx)("input",{placeholder:"Eg:JavaScript",className:"border-solid border-black px-2",value:Y,onChange:function(e){G(e.target.value)}}),Object(h.jsx)("br",{}),Object(h.jsx)("label",{children:"Start Date:"}),Object(h.jsx)("input",{placeholder:"Eg:JavaScript",className:"border-solid border-black px-2",value:k,onChange:function(e){y(e.target.value)}}),Object(h.jsx)("label",{children:"End Date:"}),Object(h.jsx)("input",{placeholder:"Eg:JavaScript",className:"border-solid border-black px-2",value:C,onChange:function(e){S(e.target.value)}}),Object(h.jsx)("br",{}),Object(h.jsx)("label",{children:"Role:"}),Object(h.jsx)("input",{placeholder:"Eg:JavaScript",className:"border-solid border-black px-2",value:A,onChange:function(e){I(e.target.value)}}),Object(h.jsx)("br",{})]})}),Object(h.jsxs)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:[Object(h.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){return O(!1)},children:"Close"}),Object(h.jsx)("button",{className:"bg-emerald-500 text-black active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:U,children:"Add"})]})]})})}),Object(h.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}):Object(h.jsx)("div",{})]}),Object(h.jsx)("main",{className:"w-3/4 px-0 sm:py-6 sm:px-0 inline-block float-right mt-0",children:-1===u?Object(h.jsx)("h1",{children:"No option selcted"}):Z(u)})]})},v=n(783),g=n.n(v);n(782);function k(){var e=Object(c.useState)(0),t=Object(a.a)(e,2),n=t[0],s=t[1],d=Object(i.g)().id,u=Object(c.useState)(!1),b=Object(a.a)(u,2),j=b[0],x=b[1],m=Object(c.useState)([{id:null,name:" ",issueDate:new Date,validity:null,issuer:" ",link:""}]),f=Object(a.a)(m,2),O=f[0],v=f[1],k=Object(c.useContext)(p.a).state,y=Object(c.useState)(""),w=Object(a.a)(y,2),N=w[0],C=w[1],S=Object(c.useState)(""),E=Object(a.a)(S,2),_=E[0],A=E[1],I=Object(c.useState)(),D=Object(a.a)(I,2),z=D[0],Y=D[1],G=Object(c.useState)(new Date),F=Object(a.a)(G,2),J=F[0],T=F[1],L=Object(c.useState)(""),P=Object(a.a)(L,2),q=P[0],M=P[1],V=Object(c.useState)(""),W=Object(a.a)(V,2),R=W[0],U=W[1],Z=Object(c.useCallback)(Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.contract.methods.skills_of_user(d).call();case 3:e.sent.forEach(function(){var e=Object(o.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,k.contract.methods.cert_of_skill(t).call();case 3:if(e.sent.forEach(function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.some((function(e){return e.id===parseInt(t)}))||n.push(k.contract.methods.certifications(t).call());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),!(n.length>0)){e.next=10;break}return e.next=8,Promise.all(n);case 8:a=e.sent.map((function(e){return{id:parseInt(e.id),issueDate:e.issue_date,validity:e.valid_till,name:e.name,link:e.url,issuer:e.issuer}})),v([].concat(Object(r.a)(O),Object(r.a)(a)));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("fetch error"),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[O,d,k.contract]),H=Object(c.useCallback)(Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O.some((function(e){return e.name===N}))){e.next=4;break}alert("already exists"),e.next=27;break;case 4:return e.prev=4,C(""),T(""),Y(),A(""),M(""),x(!1),e.next=13,k.contract.methods.skills_of_user(d).call();case 13:if(t=e.sent,console.log(t),!(t.length>0)){e.next=21;break}return e.next=18,k.contract.methods.add_certification(k.accountId,q,J,z,N,_,t[0]).send({from:k.account});case 18:Z(),e.next=22;break;case 21:throw new Error("no skill to link to");case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(4),console.error(e.t0);case 27:case"end":return e.stop()}}),e,null,[[4,24]])}))),[O,k,Z,d,J,_,q,z,N]);Object(c.useEffect)((function(){k.connected||U("authenticated"),Z()}),[Z]);var K=function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:O[e].name}),Object(h.jsxs)("h2",{children:["Validity: ",O[e].validity]}),Object(h.jsx)("h2",{children:O[e].issuer}),Object(h.jsx)("h2",{children:O[e].link})]})};return Object(h.jsxs)("div",{className:"flex mx-auto p-0  h-full",children:[Object(h.jsxs)("sidebar",{className:" w-1/4 bg-gray-800 mx-0 sm:px-6 lg:px-8  float-left text-gray-300",children:[O.map((function(e,t){return Object(h.jsx)("div",{className:"m-2 p-2 text-l hover:bg-gray-300 hover:text-gray-800 w-full",onClick:function(t){s(e.id)},children:e.name},t)})),Object(h.jsx)("div",{className:R,children:Object(h.jsx)("button",{className:"bg-red-800 text-white active:bg-red-800 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){return x(!0)},children:"Add Certificate"})}),j?Object(h.jsxs)("div",{children:[" ",Object(h.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:Object(h.jsx)("div",{className:"relative w-auto my-6 mx-auto max-w-3xl",children:Object(h.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[Object(h.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t",children:[Object(h.jsx)("h4",{className:"text-3xl font-semibold text-black text-center",children:"Add New Certificate"}),Object(h.jsx)("button",{className:"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:function(){return x(!1)},children:Object(h.jsx)("span",{className:"bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none",children:"\xd7"})})]}),Object(h.jsx)("div",{className:"relative p-6 flex-auto my-4 text-black text-lg leading-relaxed",children:Object(h.jsxs)("form",{className:"mx-auto",children:[Object(h.jsx)("label",{children:"Certificate Name: "}),Object(h.jsx)("input",{placeholder:"Eg:Web dev bootcamp",className:"border-solid border-black px-2",type:"text",required:!0,value:N,onChange:function(e){C(e.target.value)}}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"Issue Date: "}),Object(h.jsx)(g.a,{selected:J,onChange:function(e){return T(e)}})]}),Object(h.jsx)("br",{}),Object(h.jsx)("label",{children:"Issuer: "}),Object(h.jsxs)("select",{value:_,onChange:function(e){A(e.target.value)},children:[Object(h.jsx)("option",{value:"udemy",children:"Udemy"}),Object(h.jsx)("option",{value:"Coursera",children:"Coursera"}),Object(h.jsx)("option",{selected:!0,value:"",children:"NPTEL"}),Object(h.jsx)("option",{value:"Others",children:"Others"})]}),Object(h.jsx)("br",{}),Object(h.jsx)("label",{children:"Validity:"}),Object(h.jsxs)("select",{value:z,onChange:function(e){Y(e.target.value)},children:[Object(h.jsx)("option",{value:"Less then 3 Years",children:"Less then 3 Years"}),Object(h.jsx)("option",{value:"3 - 5 Years",children:"3 - 5 Years"}),Object(h.jsx)("option",{selected:!0,value:"5 - 10 Years",children:"5 - 10 Years"}),Object(h.jsx)("option",{value:"10+ Years",children:"10+ Years"})]}),Object(h.jsx)("br",{}),Object(h.jsx)("label",{children:"Link:"}),Object(h.jsx)("input",{placeholder:"Eg:udemy.com/hardikag17/webdbootcamp007",required:!0,className:"border-solid border-black px-2",value:q,onChange:function(e){M(e.target.value)}}),Object(h.jsx)("br",{})]})}),Object(h.jsxs)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:[Object(h.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){return x(!1)},children:"Close"}),Object(h.jsx)("button",{className:"bg-emerald-500 text-black active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:H,children:"Add"})]})]})})}),Object(h.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}):Object(h.jsx)("div",{})]}),Object(h.jsx)("main",{className:"w-3/4 px-0 sm:py-6 sm:px-0 inline-block float-right mt-0",children:function(){switch(n){case 1:return K(0);case 2:return K(1);case 3:return K(2);default:return Object(h.jsx)("h1",{children:"No option selcted"})}}()})]})}var y=Object(c.memo)(k),w=Object(c.lazy)((function(){return n.e(0).then(n.bind(null,837))}));t.default=function(){var e=[{id:1,name:"Skills"},{id:2,name:"Work Experiance"},{id:3,name:"Certificates"}],t=Object(c.useState)(1),n=Object(a.a)(t,2),r=n[0],s=n[1];return Object(h.jsxs)("div",{className:"h-screen",children:[Object(h.jsx)("header",{className:"bg-white shadow",children:Object(h.jsx)("div",{className:"max-w-9xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:Object(h.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:e.find((function(e){return e.id===r})).name})})}),Object(h.jsxs)("div",{className:"flex mx-auto py-6 sm:px-6 lg:px-8 h-4/5",children:[Object(h.jsx)("sidebar",{className:" w-1/4 bg-gray-800 mx-auto sm:px-6 lg:px-8  float-left text-gray-300",children:e.map((function(e,t){return Object(h.jsx)("div",{className:"m-2 p-2 text-xl hover:bg-gray-300 hover:text-gray-800 w-full",onClick:function(t){s(e.id)},children:e.name},t)}))}),Object(h.jsxs)("main",{className:"w-3/4 lg:px-8 sm:px-6 mx-auto inline-block float-right h-full ",children:[Object(h.jsx)("div",{className:"border-4 border-solid border-gray-200 rounded-lg h-2/6 mx-5 mt-0 mb-1",children:Object(h.jsx)(w,{})}),Object(h.jsx)("div",{className:"border-4 border-solid border-gray-200 rounded-lg h-4/6 mx-5 mt-2",children:function(){switch(r){case 1:return Object(h.jsx)(f,{});case 2:return Object(h.jsx)(O,{});case 3:return Object(h.jsx)(y,{});default:return Object(h.jsx)("h1",{children:"No option selcted"})}}()})]})]})]})}}}]);
//# sourceMappingURL=8.247c3ca7.chunk.js.map